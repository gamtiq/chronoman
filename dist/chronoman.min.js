!function(e,t){if(void 0===e&&void 0!==window&&(e=window),"object"==typeof module&&module.exports)module.exports=t(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],t);else{var i={exports:e};e.Chronoman=t(function(t){return e[t]},e,i)}}(this,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});function r(t){var e=this;this._onTimeoutEnd=function(){e._timeoutId=null,e.execute()},t&&"object"===(void 0===t?"undefined":o(t))&&this.setProperties(t)}return r.prototype._period=null,r.prototype.getPeriod=function(){return this._period},r.prototype.setPeriod=function(t){return this._period=t,this},r.prototype.getPeriodValue=function(){var t,e=this.getPeriod();return"function"==typeof e&&(e=e(this)),Array.isArray(e)&&(e=e[(t=this.getExecutionQty())<e.length?t:e.length-1]),e},r.prototype._recurrent=!1,r.prototype.isRecurrent=function(){return this._recurrent},r.prototype.setRecurrent=function(t){return this._recurrent=t,this},r.prototype._repeatQty=0,r.prototype.getRepeatQty=function(){return this._repeatQty},r.prototype.setRepeatQty=function(t){return this._repeatQty=t,this},r.prototype._repeatTest=null,r.prototype.getRepeatTest=function(){return this._repeatTest},r.prototype.setRepeatTest=function(t){return this._repeatTest=t,this},r.prototype._data=null,r.prototype.getData=function(){return this._data},r.prototype.setData=function(t){return this._data=t,this},r.prototype._executionQty=0,r.prototype.getExecutionQty=function(){return this._executionQty},r.prototype._timeoutId=null,r.prototype._setTimeout=function(t){var e;return"number"==typeof(e="number"==typeof t?t:this.getPeriodValue())&&(this._timeoutId=setTimeout(this._onTimeoutEnd,e)),this},r.prototype._clearTimeout=function(){return this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null),this},r.prototype._active=!1,r.prototype.isActive=function(){return this._active},r.prototype.setActive=function(t){return t&&!this._active&&(this._executionQty=0),this._active=t,this._clearTimeout(),t&&this._setTimeout(),this},r.prototype.start=function(t){var e=void 0===t?"undefined":o(t);return"number"===e||"function"===e||Array.isArray(t)?this.setPeriod(t):t&&"object"===e&&this.setProperties(t),this.setActive(!0)},r.prototype.stop=function(){return this.setActive(!1)},r.prototype._action=null,r.prototype.getAction=function(){return this._action},r.prototype.setAction=function(t){return this._action=t,this},r.prototype._passToAction=!1,r.prototype.isPassToAction=function(){return this._passToAction},r.prototype.setPassToAction=function(t){return this._passToAction=t,this},r.prototype.setProperties=function(t){return t&&"object"===(void 0===t?"undefined":o(t))&&("action"in t&&this.setAction(t.action),"period"in t&&this.setPeriod(t.period),"recurrent"in t&&this.setRecurrent(t.recurrent),"repeatQty"in t&&this.setRepeatQty(t.repeatQty),"repeatTest"in t&&this.setRepeatTest(t.repeatTest),"active"in t&&this.setActive(t.active),"passToAction"in t&&this.setPassToAction(t.passToAction),"data"in t&&this.setData(t.data)),this},r.prototype.onExecute=null,r.prototype.execute=function(){var t,e,i=this.getAction(),o=this.isPassToAction(),r=this.getRepeatTest();return this._clearTimeout(),i&&("function"==typeof i?o?i(this):i():"function"==typeof i.execute&&(o?i.execute(this):i.execute())),"function"==typeof this.onExecute&&(o?this.onExecute(this):this.onExecute()),this._executionQty++,(t=this.isActive())&&(this.isRecurrent()||this.getRepeatQty()>=this._executionQty||r&&((e=r(this))||0===e)&&("number"!=typeof e||0<=e))?this._setTimeout(e):t&&!this._timeoutId&&(this._active=!1),this},r.prototype.dispose=function(){this._clearTimeout(),this._action=this._data=this._period=this._repeatTest=this.onExecute=null},r.prototype.toString=function(){var t=this.getPeriod();return["Timer: ","active - ",this.isActive(),", period - ","function"==typeof t?"function":t,", recurrent - ",this.isRecurrent(),", repeat qty - ",this.getRepeatQty(),", repeat test - ",this.getRepeatTest()?"specified":"no",", pass to action - ",this.isPassToAction(),", action - ",this.getAction()?"specified":"no",", execution qty - ",this.getExecutionQty(),", data - ",this.getData()].join("")},e.default=r,i.exports=e.default,r});
//# sourceMappingURL=chronoman.min.js.map