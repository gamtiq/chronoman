!function(e,t){if(void 0===e&&void 0!==window&&(e=window),"object"==typeof module&&module.exports)module.exports=t(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],t);else{var i={exports:e};e.Chronoman=t(function(t){return e[t]},e,i)}}(this,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});function n(t){var e=this;this._executeTime=[],this._onTimeoutEnd=function(){e._timeoutId=null,e.execute()},t&&"object"===(void 0===t?"undefined":o(t))&&this.setProperties(t)}return n.prototype._period=null,n.prototype.getPeriod=function(){return this._period},n.prototype.setPeriod=function(t){return this._period=t,this},n.prototype.getPeriodValue=function(){var t,e=this.getPeriod();return"function"==typeof e&&(e=e(this)),Array.isArray(e)&&(e=e[(t=this.getExecutionQty())<e.length?t:e.length-1]),e},n.prototype._recurrent=!1,n.prototype.isRecurrent=function(){return this._recurrent},n.prototype.setRecurrent=function(t){return this._recurrent=t,this},n.prototype._repeatQty=0,n.prototype.getRepeatQty=function(){return this._repeatQty},n.prototype.setRepeatQty=function(t){return this._repeatQty=t,this},n.prototype._repeatTest=null,n.prototype.getRepeatTest=function(){return this._repeatTest},n.prototype.setRepeatTest=function(t){return this._repeatTest=t,this},n.prototype._data=null,n.prototype.getData=function(){return this._data},n.prototype.setData=function(t){return this._data=t,this},n.prototype._executionQty=0,n.prototype.getExecutionQty=function(){return this._executionQty},n.prototype.setExecutionQty=function(t){return this._executionQty=0<t?t:0,this},n.prototype._timeoutId=null,n.prototype._setTimeout=function(t){var e;return"number"==typeof(e="number"==typeof t?t:this.getPeriodValue())&&(this._timeoutId=setTimeout(this._onTimeoutEnd,e)),this},n.prototype._clearTimeout=function(){return this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null),this},n.prototype._startTime=null,n.prototype.getStartTime=function(){return this._startTime},n.prototype._stopTime=null,n.prototype.getStopTime=function(){return this._stopTime},n.prototype._executeTime=null,n.prototype.getExecuteTime=function(){return this._executeTime},n.prototype._active=!1,n.prototype.isActive=function(){return this._active},n.prototype.setActive=function(t){return t&&!this._active&&(this._executionQty=0),this._active=t,this._clearTimeout(),t&&(this._executeTime.length=0,this._setTimeout()),this[t?"_startTime":"_stopTime"]=(new Date).getTime(),this},n.prototype.start=function(t){var e=void 0===t?"undefined":o(t);return"number"===e||"function"===e||Array.isArray(t)?this.setPeriod(t):t&&"object"===e&&this.setProperties(t),this.setActive(!0)},n.prototype.stop=function(){return this.setActive(!1)},n.prototype._action=null,n.prototype.getAction=function(){return this._action},n.prototype.setAction=function(t){return this._action=t,this},n.prototype._passToAction=!1,n.prototype.isPassToAction=function(){return this._passToAction},n.prototype.setPassToAction=function(t){return this._passToAction=t,this},n.prototype.setProperties=function(t){return t&&"object"===(void 0===t?"undefined":o(t))&&("action"in t&&this.setAction(t.action),"period"in t&&this.setPeriod(t.period),"recurrent"in t&&this.setRecurrent(t.recurrent),"repeatQty"in t&&this.setRepeatQty(t.repeatQty),"repeatTest"in t&&this.setRepeatTest(t.repeatTest),"active"in t&&this.setActive(t.active),"passToAction"in t&&this.setPassToAction(t.passToAction),"data"in t&&this.setData(t.data)),this},n.prototype.actionResult=void 0,n.prototype.onExecute=null,n.prototype.onExecuteResult=void 0,n.prototype.execute=function(){var t,e,i=this.getAction(),o=this.isPassToAction(),n=this.getRepeatTest();return this._clearTimeout(),i&&("function"==typeof i?this.actionResult=o?i(this):i():"function"==typeof i.execute&&(this.actionResult=o?i.execute(this):i.execute())),"function"==typeof this.onExecute&&(this.onExecuteResult=o?this.onExecute(this):this.onExecute()),this._executionQty++,this._executeTime.push((new Date).getTime()),(t=this.isActive())&&(this.isRecurrent()||this.getRepeatQty()>=this._executionQty||n&&((e=n(this))||0===e)&&("number"!=typeof e||0<=e))?this._setTimeout(e):t&&!this._timeoutId&&this.setActive(!1),this},n.prototype.dispose=function(){this._clearTimeout(),this._action=this.actionResult=this._data=this._executeTime=this._period=this._repeatTest=this.onExecute=this.onExecuteResult=null},n.prototype.toString=function(){var t,e=this.getPeriod(),i=this.getStartTime(),o=this.getStopTime(),n=this.getExecuteTime(),r=n.length,s="";if(r)for(t=0;t<r;t++)s+=(t?"; ":"")+new Date(n[t]);return["Timer: ","active - ",this.isActive(),", period - ","function"==typeof e?"function":e,", recurrent - ",this.isRecurrent(),", repeat qty - ",this.getRepeatQty(),", repeat test - ",this.getRepeatTest()?"specified":"no",", pass to action - ",this.isPassToAction(),", action - ",this.getAction()?"specified":"no",", execution qty - ",this.getExecutionQty(),"number"==typeof i?", start time - "+new Date(i):"",s?", execute time - "+s:"","number"==typeof o?", stop time - "+new Date(o):"",", action result - ",this.actionResult,", onExecuteResult - ",this.onExecuteResult,", data - ",this.getData()].join("")},e.default=n,i.exports=e.default,n});
//# sourceMappingURL=chronoman.min.js.map